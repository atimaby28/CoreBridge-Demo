import{d as M,c as l,b as e,i as x,g as y,t as a,F as p,s as b,n as f,l as o,q as z,C as I,o as T,r as m,e as j,w as H,f as N,j as V,v as R,B as K}from"./index-BwYT7rAB.js";import{m as U,s as E}from"./aiMatching-BRQqezRu.js";import{j as G}from"./jobposting-DwROo58C.js";const Q={class:"space-y-4"},O={class:"flex items-center justify-between"},P={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},W={class:"text-sm font-normal text-gray-500"},X={key:0,class:"text-center py-8"},Y={key:1,class:"text-center py-8 bg-gray-50 rounded-lg"},Z={key:2,class:"space-y-3"},ee=["onClick"],te={class:"flex items-center justify-between"},se={class:"flex items-center gap-3"},le={class:"font-medium text-gray-900"},oe={key:0,class:"ml-2 text-xs text-gray-400 font-normal"},re={key:0,class:"flex flex-wrap gap-1 mt-1"},ne={key:0,class:"text-xs text-gray-400"},ie={class:"text-right"},ae={class:"text-2xl font-bold text-purple-600"},de=M({__name:"AiMatchingResult",props:{matches:{},loading:{type:Boolean}},emits:["select","refresh"],setup(i){return(v,d)=>(o(),l("div",Q,[e("div",O,[e("h3",P,[d[1]||(d[1]=y(" ðŸ¤– AI ë§¤ì¹­ ê²°ê³¼ ",-1)),e("span",W,"("+a(i.matches.length)+"ëª…)",1)]),i.loading?x("",!0):(o(),l("button",{key:0,onClick:d[0]||(d[0]=n=>v.$emit("refresh")),class:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1"},[...d[2]||(d[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),y(" ìƒˆë¡œê³ ì¹¨ ",-1)])]))]),i.loading?(o(),l("div",X,[...d[3]||(d[3]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"},"ë§¤ì¹­ ì¤‘...",-1)])])):i.matches.length===0?(o(),l("div",Y,[...d[4]||(d[4]=[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2 text-gray-500"},"ë§¤ì¹­ëœ í›„ë³´ìžê°€ ì—†ìŠµë‹ˆë‹¤",-1),e("p",{class:"text-sm text-gray-400"},"ì´ë ¥ì„œê°€ ë“±ë¡ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”",-1)])])):(o(),l("div",Z,[(o(!0),l(p,null,b(i.matches,(n,s)=>{var u;return o(),l("div",{key:n.candidateId,class:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:c=>v.$emit("select",n)},[e("div",te,[e("div",se,[e("div",{class:f(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",s===0?"bg-yellow-100 text-yellow-700":s===1?"bg-gray-100 text-gray-700":s===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"])},a(s+1),3),e("div",null,[e("div",le,[y(a(n.name||`ì§€ì›ìž (ID: ${n.userId||n.candidateId})`)+" ",1),n.resumeId?(o(),l("span",oe," ì´ë ¥ì„œ #"+a(n.resumeId),1)):x("",!0)]),(u=n.skills)!=null&&u.length?(o(),l("div",re,[(o(!0),l(p,null,b(n.skills.slice(0,5),c=>(o(),l("span",{key:c,class:"px-2 py-0.5 bg-blue-50 text-blue-700 text-xs rounded-full"},a(c),1))),128)),n.skills.length>5?(o(),l("span",ne,"+"+a(n.skills.length-5),1)):x("",!0)])):x("",!0)])]),e("div",ie,[e("div",ae,a(((1-n.score)*100).toFixed(1)),1),d[5]||(d[5]=e("div",{class:"text-xs text-gray-500"},"ë²¡í„° ìœ ì‚¬ë„",-1))])])],8,ee)}),128))]))]))}}),ue={A:"bg-green-100 text-green-800 border-green-300",B:"bg-blue-100 text-blue-800 border-blue-300",C:"bg-yellow-100 text-yellow-800 border-yellow-300",D:"bg-orange-100 text-orange-800 border-orange-300",F:"bg-red-100 text-red-800 border-red-300"},ce={class:"bg-white rounded-xl shadow-lg p-6 space-y-6 max-w-lg w-full"},ge={class:"flex items-center justify-between"},xe={key:0,class:"text-center py-8"},me={key:1,class:"text-center py-8"},ve={class:"flex items-center justify-center gap-6"},pe={class:"text-center"},ye={class:"text-4xl font-bold text-gray-900"},fe={class:"space-y-4"},be={class:"flex justify-between text-sm mb-1"},he={class:"font-medium"},ke={class:"h-3 bg-gray-100 rounded-full overflow-hidden"},we={class:"flex justify-between text-sm mb-1"},$e={class:"font-medium"},Se={class:"h-3 bg-gray-100 rounded-full overflow-hidden"},Ce={class:"flex justify-between text-sm mb-1"},_e={class:"font-medium"},Ie={class:"h-3 bg-gray-100 rounded-full overflow-hidden"},je={class:"grid grid-cols-2 gap-4"},Me={class:"flex flex-wrap gap-1"},qe={key:0},Ae={class:"flex flex-wrap gap-1"},Be={class:"text-center text-sm text-gray-500"},De=M({__name:"AiScoreDetail",props:{score:{},matchScore:{},loading:{type:Boolean}},emits:["close"],setup(i){const v=i,d=z(()=>v.score&&ue[v.score.scoreDetail.grade]||"");return(n,s)=>(o(),l("div",ce,[e("div",ge,[s[3]||(s[3]=e("h3",{class:"text-lg font-semibold text-gray-900"},"ðŸ“Š ìƒì„¸ ë¶„ì„ ê²°ê³¼",-1)),e("button",{onClick:s[0]||(s[0]=u=>n.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...s[2]||(s[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i.loading?(o(),l("div",xe,[...s[4]||(s[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"},"ë¶„ì„ ì¤‘... (ìµœëŒ€ 1~2ë¶„ ì†Œìš”)",-1)])])):i.score?(o(),l(p,{key:2},[e("div",ve,[e("div",{class:f(["w-20 h-20 rounded-full flex items-center justify-center text-3xl font-bold border-4",d.value])},a(i.score.scoreDetail.grade),3),e("div",pe,[e("div",ye,a(i.score.scoreDetail.totalScore.toFixed(0)),1),s[6]||(s[6]=e("div",{class:"text-sm text-gray-500"},"ì´ì  (100ì  ë§Œì )",-1))])]),e("div",fe,[e("div",null,[e("div",be,[s[7]||(s[7]=e("span",{class:"text-gray-600"},"ìŠ¤í‚¬ ë§¤ì¹­",-1)),e("span",he,a(i.score.scoreDetail.skillScore.toFixed(0))+"/40",1)]),e("div",ke,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all",style:I({width:`${i.score.scoreDetail.skillScore/40*100}%`})},null,4)])]),e("div",null,[e("div",we,[s[8]||(s[8]=e("span",{class:"text-gray-600"},"ë¬¸ì„œ ìœ ì‚¬ë„",-1)),e("span",$e,a(i.score.scoreDetail.similarityScore.toFixed(0))+"/40",1)]),e("div",Se,[e("div",{class:"h-full bg-purple-500 rounded-full transition-all",style:I({width:`${i.score.scoreDetail.similarityScore/40*100}%`})},null,4)])]),e("div",null,[e("div",Ce,[s[9]||(s[9]=e("span",{class:"text-gray-600"},"ë³´ë„ˆìŠ¤",-1)),e("span",_e,a(i.score.scoreDetail.bonusScore.toFixed(0))+"/20",1)]),e("div",Ie,[e("div",{class:"h-full bg-green-500 rounded-full transition-all",style:I({width:`${i.score.scoreDetail.bonusScore/20*100}%`})},null,4)])])]),e("div",je,[e("div",null,[s[10]||(s[10]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"ðŸ“‹ ìš”êµ¬ ìŠ¤í‚¬",-1)),e("div",Me,[(o(!0),l(p,null,b(i.score.requiredSkills,u=>(o(),l("span",{key:u,class:f(["px-2 py-1 text-xs rounded-full",i.score.candidateSkills.map(c=>c.toLowerCase()).includes(u.toLowerCase())?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[y(a(u)+" ",1),i.score.candidateSkills.map(c=>c.toLowerCase()).includes(u.toLowerCase())?(o(),l("span",qe,"âœ“")):x("",!0)],2))),128))])]),e("div",null,[s[11]||(s[11]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"ðŸ‘¤ ë³´ìœ  ìŠ¤í‚¬",-1)),e("div",Ae,[(o(!0),l(p,null,b(i.score.candidateSkills,u=>(o(),l("span",{key:u,class:f(["px-2 py-1 text-xs rounded-full",i.score.requiredSkills.map(c=>c.toLowerCase()).includes(u.toLowerCase())?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"])},a(u),3))),128))])])]),e("div",Be,"ì½”ì‚¬ì¸ ìœ ì‚¬ë„: "+a(i.matchScore!==null?(i.matchScore*100).toFixed(1):"-")+"%",1)],64)):(o(),l("div",me,[s[5]||(s[5]=e("p",{class:"text-gray-500"},"ë¶„ì„ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",-1)),e("button",{onClick:s[1]||(s[1]=u=>n.$emit("close")),class:"mt-3 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm"},"ë‹«ê¸°")]))]))}}),Le={class:"min-h-screen bg-gray-50 py-8"},Ve={class:"max-w-6xl mx-auto px-4"},ze={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Fe={class:"space-y-4"},Je={class:"bg-white rounded-xl shadow-sm border p-6"},Te={key:0,class:"text-center py-8"},He={key:1,class:"text-center py-8 text-gray-500"},Ne={key:2,class:"space-y-3"},Re=["onClick"],Ke={class:"flex items-start justify-between"},Ue={class:"flex-1 min-w-0"},Ee={class:"font-medium text-gray-900 truncate"},Ge={class:"text-sm text-gray-500 mt-1 line-clamp-2"},Qe={key:0,class:"mt-2 flex flex-wrap gap-1"},Oe={key:0,class:"text-xs text-gray-400"},Pe={key:0,class:"ml-3 flex-shrink-0"},We={key:3,class:"mt-4 pt-4 border-t border-gray-100"},Xe={class:"mb-4"},Ye={class:"mb-4"},Ze=["disabled"],et={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},tt={class:"space-y-4"},st={class:"bg-white rounded-xl shadow-sm border p-6"},lt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},it=M({__name:"AiMatchingView",setup(i){const v=m(!0),d=m([]),n=m(null),s=m(""),u=m(10),c=m(!1),S=m(!1),C=m([]),h=m(null),w=m(null),q=z(()=>{if(s.value.trim())return s.value.split(",").map(r=>r.trim()).filter(r=>r)});T(async()=>{try{const r=await G.getMyJobpostings();d.value=r.jobpostings||[]}catch(r){console.error("ë‚´ ì±„ìš©ê³µê³  ì¡°íšŒ ì‹¤íŒ¨:",r)}finally{v.value=!1}});function F(r){n.value=r;const t=[];r.requiredSkills&&t.push(...r.requiredSkills),r.preferredSkills&&t.push(...r.preferredSkills),s.value=[...new Set(t)].join(", ")}function A(){var $,k;if(!n.value)return"";const r=n.value,t=[];return r.title&&t.push(r.title),r.content&&t.push(r.content),($=r.requiredSkills)!=null&&$.length&&t.push("í•„ìˆ˜ ìŠ¤í‚¬: "+r.requiredSkills.join(", ")),(k=r.preferredSkills)!=null&&k.length&&t.push("ìš°ëŒ€ ìŠ¤í‚¬: "+r.preferredSkills.join(", ")),t.join(`
`)}async function B(){if(n.value){c.value=!0,C.value=[];try{const r=await U({jdText:A(),requiredSkills:q.value,topK:u.value});C.value=r.matches}catch(r){console.error("ë§¤ì¹­ ì‹¤íŒ¨:",r),alert("AI ë§¤ì¹­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{c.value=!1}}}async function J(r){h.value=r,S.value=!0,w.value=null;try{w.value=await E({candidateId:r.candidateId,jdText:A(),requiredSkills:q.value})}catch(t){console.error("ìŠ¤ì½”ì–´ ê³„ì‚° ì‹¤íŒ¨:",t),alert("ìƒì„¸ ì ìˆ˜ ê³„ì‚°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. AI ë¶„ì„ì— ì‹œê°„ì´ ì˜¤ëž˜ ê±¸ë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}finally{S.value=!1,w.value||(h.value=null)}}return(r,t)=>{var k;const $=N("router-link");return o(),l("div",Le,[e("div",Ve,[t[16]||(t[16]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900 flex items-center gap-2"},"ðŸ¤– AI ì´ë ¥ì„œ ë§¤ì¹­"),e("p",{class:"text-gray-500 mt-1"},"ë‚´ ì±„ìš©ê³µê³ ë¥¼ ì„ íƒí•˜ë©´ ì í•©í•œ í›„ë³´ìžë¥¼ AIê°€ ë§¤ì¹­í•´ë“œë¦½ë‹ˆë‹¤.")],-1)),e("div",ze,[e("div",Fe,[e("div",Je,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"ðŸ“‹ ì±„ìš©ê³µê³  ì„ íƒ",-1)),v.value?(o(),l("div",Te,[...t[3]||(t[3]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"},"ë‚´ ì±„ìš©ê³µê³  ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)])])):d.value.length===0?(o(),l("div",He,[t[5]||(t[5]=e("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[6]||(t[6]=e("p",{class:"font-medium"},"ë“±ë¡ëœ ì±„ìš©ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤",-1)),t[7]||(t[7]=e("p",{class:"text-sm mt-1"},"ì±„ìš©ê³µê³ ë¥¼ ë¨¼ì € ìž‘ì„±í•´ì£¼ì„¸ìš”",-1)),j($,{to:"/jobpostings/create",class:"inline-block mt-3 px-4 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors"},{default:H(()=>[...t[4]||(t[4]=[y("ì±„ìš©ê³µê³  ìž‘ì„±í•˜ëŸ¬ ê°€ê¸°",-1)])]),_:1})])):(o(),l("div",Ne,[(o(!0),l(p,null,b(d.value,g=>{var D,L;return o(),l("div",{key:g.jobpostingId,onClick:_=>F(g),class:f(["p-4 rounded-lg border-2 cursor-pointer transition-all",((D=n.value)==null?void 0:D.jobpostingId)===g.jobpostingId?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"])},[e("div",Ke,[e("div",Ue,[e("h3",Ee,a(g.title),1),e("p",Ge,a(g.content),1),g.requiredSkills&&g.requiredSkills.length>0?(o(),l("div",Qe,[(o(!0),l(p,null,b(g.requiredSkills.slice(0,5),_=>(o(),l("span",{key:_,class:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full"},a(_),1))),128)),g.requiredSkills.length>5?(o(),l("span",Oe," +"+a(g.requiredSkills.length-5),1)):x("",!0)])):x("",!0)]),((L=n.value)==null?void 0:L.jobpostingId)===g.jobpostingId?(o(),l("div",Pe,[...t[8]||(t[8]=[e("svg",{class:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):x("",!0)])],10,Re)}),128))])),n.value?(o(),l("div",We,[e("div",Xe,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"í•„ìˆ˜ ìŠ¤í‚¬ (ì„ íƒ, ìˆ˜ì • ê°€ëŠ¥)",-1)),V(e("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>s.value=g),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Java, Spring Boot, MySQL (ì‰¼í‘œë¡œ êµ¬ë¶„)"},null,512),[[R,s.value]]),t[10]||(t[10]=e("p",{class:"text-xs text-gray-500 mt-1"},"ì±„ìš©ê³µê³ ì˜ ìŠ¤í‚¬ì´ ìžë™ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤. ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.",-1))]),e("div",Ye,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ê²€ìƒ‰ ì¸ì›",-1)),V(e("select",{"onUpdate:modelValue":t[1]||(t[1]=g=>u.value=g),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...t[11]||(t[11]=[e("option",{value:5},"ìƒìœ„ 5ëª…",-1),e("option",{value:10},"ìƒìœ„ 10ëª…",-1),e("option",{value:20},"ìƒìœ„ 20ëª…",-1)])],512),[[K,u.value]])])])):x("",!0),e("button",{onClick:B,disabled:!n.value||c.value,class:f(["w-full mt-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",n.value&&!c.value?"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[c.value?(o(),l("svg",et,[...t[13]||(t[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):x("",!0),y(" "+a(c.value?"AI ë§¤ì¹­ ì¤‘...":"ðŸ” AI ë§¤ì¹­ ì‹œìž‘"),1)],10,Ze)]),t[15]||(t[15]=e("div",{class:"bg-blue-50 rounded-xl p-4 border border-blue-100"},[e("h4",{class:"font-medium text-blue-800 mb-2"},"ðŸ’¡ ì‚¬ìš© ë°©ë²•"),e("ul",{class:"text-sm text-blue-700 space-y-1"},[e("li",null,"1. ë§¤ì¹­í•  ì±„ìš©ê³µê³ ë¥¼ ì„ íƒí•©ë‹ˆë‹¤"),e("li",null,"2. í•„ìˆ˜ ìŠ¤í‚¬ì„ ìˆ˜ì •í•˜ê±°ë‚˜ í™•ì¸í•©ë‹ˆë‹¤"),e("li",null,"3. AI ë§¤ì¹­ ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤"),e("li",null,"4. ë§¤ì¹­ëœ í›„ë³´ìžë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤")])],-1))]),e("div",tt,[e("div",st,[j(de,{matches:C.value,loading:c.value,onSelect:J,onRefresh:B},null,8,["matches","loading"])]),h.value?(o(),l("div",lt,[j(De,{score:w.value,"match-score":((k=h.value)==null?void 0:k.score)??null,loading:S.value,onClose:t[2]||(t[2]=g=>h.value=null)},null,8,["score","match-score","loading"])])):x("",!0)])])])])}}});export{it as default};
