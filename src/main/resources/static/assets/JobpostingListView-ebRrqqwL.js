import{d as M,u as z,E as K,o as U,a as G,G as O,c as r,b as t,I as W,i as P,t as i,p as a,q as D,w as X,g as N,f as Y,j as Z,v as Q,r as g,F as u,s as y,n as f,k as tt,l as n}from"./index-BwYT7rAB.js";import{u as et}from"./jobposting-D1MJNH41.js";import{h as st}from"./jobposting-DwROo58C.js";import{D as ot}from"./jobposting-De_onVHJ.js";import{_ as nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const rt={class:"flex items-center justify-between mb-6"},at={class:"text-gray-500 mt-1"},it={class:"card mb-6"},lt={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},dt={class:"flex items-center space-x-2"},ct=["onClick"],ut={class:"flex flex-col lg:flex-row gap-6"},mt={class:"flex-1"},pt={key:0,class:"card py-12 text-center text-gray-500"},xt={key:1,class:"card py-12 text-center"},gt={class:"text-red-600 mb-2"},yt={key:2,class:"card py-12 text-center text-gray-500"},ft={key:3,class:"space-y-4"},vt=["onClick"],_t={class:"flex items-start justify-between"},bt={class:"flex-1 min-w-0"},ht={class:"text-lg font-semibold text-gray-900 truncate hover:text-primary-600 transition-colors"},kt={class:"text-gray-600 mt-1 line-clamp-2"},wt={class:"flex items-center space-x-4 mt-3 text-sm text-gray-500"},Ct={key:4,class:"flex justify-center mt-8"},It={class:"flex items-center space-x-2"},Bt=["disabled"],Jt=["onClick"],Pt={key:1,class:"px-2 text-gray-400"},Dt=["disabled"],Nt={class:"lg:w-80 flex-shrink-0"},St={class:"card sticky top-4"},Tt={key:0,class:"py-8 text-center text-gray-500"},Vt={key:1,class:"py-8 text-center text-gray-500 text-sm"},jt={key:2,class:"space-y-1"},$t=["onClick"],qt={class:"font-bold text-primary-600 w-5"},At={class:"flex-1 min-w-0"},Lt={class:"text-sm font-medium text-gray-900 truncate"},Rt={class:"text-xs text-gray-500"},Et=M({__name:"JobpostingListView",setup(Ft){const S=tt(),c=G(),l=et(),h=z(),{jobpostings:k,loading:T,error:w,currentPage:m,totalCount:V,totalPages:v,hasNextPage:C,hasPrevPage:I,currentBoardId:j}=K(l),$=D(()=>h.isCompany||h.isAdmin),q=g(ot),p=g([]),_=g(!1),B=g(""),A=D(()=>{const o=[],e=v.value,d=m.value;if(e<=7)for(let s=1;s<=e;s++)o.push(s);else d<=3?o.push(1,2,3,4,"...",e):d>=e-2?o.push(1,"...",e-3,e-2,e-1,e):o.push(1,"...",d-1,d,d+1,"...",e);return o});async function L(){_.value=!0;try{p.value=await st.getHotToday()}catch(o){console.error("Ïù∏Í∏∞ Í≥µÍ≥† Î°úÎìú Ïã§Ìå®:",o),p.value=[]}finally{_.value=!1}}function R(o){l.setBoardId(o),l.fetchJobpostings()}function b(o){o<1||o>v.value||(l.setPage(o),l.fetchJobpostings(),window.scrollTo({top:0,behavior:"smooth"}))}function J(o){S.push(`/jobpostings/${o}`)}function E(){l.fetchJobpostings()}function F(o){return new Date(o).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}function H(o,e=120){return o.length<=e?o:o.slice(0,e)+"..."}return U(()=>{const o=c.query.boardId?Number(c.query.boardId):1,e=c.query.page?Number(c.query.page):1;l.setBoardId(o),l.setPage(e),l.fetchJobpostings(),L()}),O(()=>c.query,o=>{o.boardId&&l.setBoardId(Number(o.boardId)),o.page&&l.setPage(Number(o.page)),l.fetchJobpostings()},{deep:!0}),(o,e)=>{const d=Y("router-link");return n(),r("div",null,[t("div",rt,[t("div",null,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Ï±ÑÏö©Í≥µÍ≥†",-1)),t("p",at,i(a(V))+"Í∞úÏùò Ï±ÑÏö©Í≥µÍ≥†",1)]),$.value?(n(),W(d,{key:0,to:"/jobpostings/new",class:"btn btn-primary"},{default:X(()=>[...e[4]||(e[4]=[N(" + Í≥µÍ≥† Îì±Î°ù ",-1)])]),_:1})):P("",!0)]),t("div",it,[t("div",lt,[Z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>B.value=s),type:"text",placeholder:"Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",class:"input max-w-xs"},null,512),[[Q,B.value]]),t("div",dt,[(n(!0),r(u,null,y(q.value,s=>(n(),r("button",{key:s.boardId,onClick:x=>R(s.boardId),class:f([a(j)===s.boardId?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","px-4 py-2 rounded-lg text-sm font-medium transition-colors"])},i(s.name),11,ct))),128))])])]),t("div",ut,[t("div",mt,[a(T)?(n(),r("div",pt,[...e[5]||(e[5]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-2"},null,-1),N(" Î°úÎî©Ï§ë... ",-1)])])):a(w)?(n(),r("div",xt,[t("p",gt,i(a(w)),1),t("button",{onClick:E,class:"text-sm text-primary-600 hover:underline"},"Îã§Ïãú ÏãúÎèÑ")])):a(k).length===0?(n(),r("div",yt,[...e[6]||(e[6]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",null,"Îì±Î°ùÎêú Ï±ÑÏö©Í≥µÍ≥†Í∞Ä ÏóÜÏäµÎãàÎã§",-1)])])):(n(),r("div",ft,[(n(!0),r(u,null,y(a(k),s=>(n(),r("div",{key:s.jobpostingId,onClick:x=>J(s.jobpostingId),class:"card hover:shadow-md transition-shadow cursor-pointer"},[t("div",_t,[t("div",bt,[t("h3",ht,i(s.title),1),t("p",kt,i(H(s.content)),1),t("div",wt,[t("span",null,"Ï°∞Ìöå "+i(s.viewCount||0),1),t("span",null,"Ï¢ãÏïÑÏöî "+i(s.likeCount||0),1),t("span",null,"ÎåìÍ∏Ä "+i(s.commentCount||0),1),t("span",null,i(F(s.createdAt)),1)])]),e[7]||(e[7]=t("div",{class:"ml-4 flex flex-col items-end flex-shrink-0"},[t("span",{class:"badge badge-blue"},"Ï±ÑÏö©Ï§ë")],-1))])],8,vt))),128))])),a(v)>1?(n(),r("div",Ct,[t("div",It,[t("button",{onClick:e[1]||(e[1]=s=>b(a(m)-1)),disabled:!a(I),class:f([a(I)?"text-gray-700 hover:bg-gray-100":"text-gray-300 cursor-not-allowed","px-3 py-2 rounded-md text-sm font-medium"])}," Ïù¥Ï†Ñ ",10,Bt),(n(!0),r(u,null,y(A.value,s=>(n(),r(u,{key:s},[s!=="..."?(n(),r("button",{key:0,onClick:x=>b(s),class:f([s===a(m)?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100","px-4 py-2 rounded-md text-sm font-medium"])},i(s),11,Jt)):(n(),r("span",Pt,"..."))],64))),128)),t("button",{onClick:e[2]||(e[2]=s=>b(a(m)+1)),disabled:!a(C),class:f([a(C)?"text-gray-700 hover:bg-gray-100":"text-gray-300 cursor-not-allowed","px-3 py-2 rounded-md text-sm font-medium"])}," Îã§Ïùå ",10,Dt)])])):P("",!0)]),t("div",Nt,[t("div",St,[e[9]||(e[9]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"üî• Ïù∏Í∏∞ Í≥µÍ≥†")],-1)),_.value?(n(),r("div",Tt,[...e[8]||(e[8]=[t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"},null,-1)])])):p.value.length===0?(n(),r("div",Vt," ÏïÑÏßÅ Ïù∏Í∏∞ Í≥µÍ≥†Í∞Ä ÏóÜÏäµÎãàÎã§ ")):(n(),r("div",jt,[(n(!0),r(u,null,y(p.value.slice(0,5),(s,x)=>(n(),r("div",{key:s.jobpostingId,onClick:Ht=>J(s.jobpostingId),class:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer"},[t("span",qt,i(x+1),1),t("div",At,[t("p",Lt,i(s.title),1),t("p",Rt," Ï°∞Ìöå "+i(s.viewCount)+" ¬∑ Ï¢ãÏïÑÏöî "+i(s.likeCount),1)])],8,$t))),128))]))])])])])}}}),Ot=nt(Et,[["__scopeId","data-v-3c4ac900"]]);export{Ot as default};
