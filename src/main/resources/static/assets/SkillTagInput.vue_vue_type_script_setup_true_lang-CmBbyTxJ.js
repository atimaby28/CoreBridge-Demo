import{d as M,c as a,i as f,b as r,g as h,t as i,j as q,F as V,s as v,n as K,q as w,h as d,v as N,r as k,A as c,l as s}from"./index-BwYT7rAB.js";const j={class:"skill-tag-input"},D={key:0,class:"block text-sm font-medium text-gray-700 mb-2"},E={key:0,class:"text-red-500"},F=["onClick"],I=["placeholder","onKeydown"],R={class:"mt-1 text-xs text-gray-500"},_={key:1,class:"mt-2"},$=["onClick"],U=M({__name:"SkillTagInput",props:{modelValue:{},label:{default:""},placeholder:{default:"스킬을 입력하세요"},helpText:{default:""},required:{type:Boolean,default:!1},suggestions:{default:()=>[]},color:{default:"blue"},maxTags:{default:20}},emits:["update:modelValue"],setup(n,{emit:y}){const l=n,m=y,x=k(null),u=k(""),C=w(()=>({blue:"bg-blue-100 text-blue-700",purple:"bg-purple-100 text-purple-700",green:"bg-green-100 text-green-700",orange:"bg-orange-100 text-orange-700"})[l.color]),T=w(()=>{const e=l.modelValue.map(t=>t.toLowerCase());return l.suggestions.filter(t=>!e.includes(t.toLowerCase())).slice(0,8)});function L(){var e;(e=x.value)==null||e.focus()}function p(){const e=u.value.trim();if(!e)return;if(l.modelValue.map(o=>o.toLowerCase()).includes(e.toLowerCase())){u.value="";return}l.modelValue.length>=l.maxTags||(m("update:modelValue",[...l.modelValue,e]),u.value="")}function B(e){l.modelValue.map(o=>o.toLowerCase()).includes(e.toLowerCase())||l.modelValue.length>=l.maxTags||m("update:modelValue",[...l.modelValue,e])}function b(e){const t=[...l.modelValue];t.splice(e,1),m("update:modelValue",t)}function S(){u.value===""&&l.modelValue.length>0&&b(l.modelValue.length-1)}return(e,t)=>(s(),a("div",j,[n.label?(s(),a("label",D,[h(i(n.label)+" ",1),n.required?(s(),a("span",E,"*")):f("",!0)])):f("",!0),r("div",{class:"flex flex-wrap gap-2 p-3 border border-gray-300 rounded-lg bg-white min-h-[48px] focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent",onClick:L},[(s(!0),a(V,null,v(n.modelValue,(o,g)=>(s(),a("span",{key:g,class:K(["inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium transition-colors",C.value])},[h(i(o)+" ",1),r("button",{type:"button",onClick:d(z=>b(g),["stop"]),class:"hover:bg-black/10 rounded-full p-0.5 transition-colors"},[...t[1]||(t[1]=[r("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,F)],2))),128)),q(r("input",{ref_key:"inputRef",ref:x,"onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),type:"text",placeholder:n.modelValue.length===0?n.placeholder:"",class:"flex-1 min-w-[120px] outline-none text-sm bg-transparent",onKeydown:[c(d(p,["prevent"]),["enter"]),c(d(p,["prevent"]),["tab"]),c(d(p,["prevent"]),["comma"]),c(S,["backspace"])]},null,40,I),[[N,u.value]])]),r("p",R,i(n.helpText||"Enter, Tab, 또는 쉼표로 태그를 추가하세요"),1),n.suggestions.length>0?(s(),a("div",_,[t[2]||(t[2]=r("span",{class:"text-xs text-gray-500 mr-2"},"추천:",-1)),(s(!0),a(V,null,v(T.value,o=>(s(),a("button",{key:o,type:"button",onClick:g=>B(o),class:"inline-block mr-1 mb-1 px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors"}," + "+i(o),9,$))),128))])):f("",!0)]))}});export{U as _};
