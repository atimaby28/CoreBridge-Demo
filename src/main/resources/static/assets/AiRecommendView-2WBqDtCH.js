import{g as z}from"./resume-DCy8nA1A.js";import{a as B,b as G}from"./aiMatching-BRQqezRu.js";import{d as R,c as s,b as t,i as x,F as v,n as w,q as M,t as r,s as k,l,o as F,r as d,e as S,w as A,g as p,f as L}from"./index-BwYT7rAB.js";const N={class:"bg-white rounded-xl shadow-lg p-6 space-y-6 max-w-lg w-full"},T={class:"flex items-center justify-between"},H={key:0,class:"text-center py-8"},J={class:"text-center"},q={class:"text-xs text-gray-400 mt-1"},D={key:0},E={class:"flex flex-wrap gap-1"},K={key:1},O={class:"flex flex-wrap gap-1"},P={class:"flex flex-wrap gap-1"},Q=R({__name:"AiSkillGap",props:{gap:{},loading:{type:Boolean}},emits:["close"],setup(i){const y=i,g=M(()=>{if(!y.gap)return"text-gray-400";const c=y.gap.matchRate;return c>=.8?"text-green-600":c>=.5?"text-yellow-600":"text-red-600"});return(c,o)=>(l(),s("div",N,[t("div",T,[o[2]||(o[2]=t("h3",{class:"text-lg font-semibold text-gray-900"},"ðŸ” ìŠ¤í‚¬ ê°­ ë¶„ì„",-1)),t("button",{onClick:o[0]||(o[0]=a=>c.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...o[1]||(o[1]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i.loading?(l(),s("div",H,[...o[3]||(o[3]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"ë¶„ì„ ì¤‘...",-1)])])):i.gap?(l(),s(v,{key:1},[t("div",J,[t("div",{class:w(["text-5xl font-bold",g.value])},r((i.gap.matchRate*100).toFixed(0))+"% ",3),o[4]||(o[4]=t("div",{class:"text-sm text-gray-500 mt-1"},"ìŠ¤í‚¬ ë§¤ì¹˜ìœ¨",-1)),t("div",q,"ì½”ì‚¬ì¸ ìœ ì‚¬ë„: "+r((i.gap.cosineSimilarity*100).toFixed(1))+"%",1)]),i.gap.matchedSkills.length>0?(l(),s("div",D,[o[5]||(o[5]=t("h4",{class:"text-sm font-medium text-green-700 mb-2"},"âœ… ë³´ìœ  ì¤‘ì¸ ìš”êµ¬ ìŠ¤í‚¬",-1)),t("div",E,[(l(!0),s(v,null,k(i.gap.matchedSkills,a=>(l(),s("span",{key:a,class:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full"},r(a),1))),128))])])):x("",!0),i.gap.missingSkills.length>0?(l(),s("div",K,[o[6]||(o[6]=t("h4",{class:"text-sm font-medium text-red-700 mb-2"},"âŒ ë¶€ì¡±í•œ ìŠ¤í‚¬",-1)),t("div",O,[(l(!0),s(v,null,k(i.gap.missingSkills,a=>(l(),s("span",{key:a,class:"px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full"},r(a),1))),128))]),o[7]||(o[7]=t("p",{class:"text-xs text-gray-500 mt-2"}," ì´ ìŠ¤í‚¬ë“¤ì„ ë³´ì™„í•˜ë©´ ì´ ì±„ìš©ê³µê³ ì— ë” ì í•©í•œ í›„ë³´ìžê°€ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ",-1))])):x("",!0),t("div",null,[o[8]||(o[8]=t("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"ðŸ’¼ ë‚´ ì „ì²´ ìŠ¤í‚¬",-1)),t("div",P,[(l(!0),s(v,null,k(i.gap.candidateSkills,a=>(l(),s("span",{key:a,class:w(["px-2 py-1 text-xs rounded-full",i.gap.matchedSkills.map(u=>u.toLowerCase()).includes(a.toLowerCase())?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"])},r(a),3))),128))])])],64)):x("",!0)]))}}),U={class:"min-h-screen bg-gray-50 py-8"},W={class:"max-w-4xl mx-auto px-4"},X={key:0,class:"text-center py-12"},Y={key:1,class:"text-center py-12 bg-white rounded-xl shadow-sm border"},Z={class:"bg-white rounded-xl shadow-sm border p-6 mb-6"},tt={class:"flex items-center justify-between"},et={class:"font-semibold text-gray-900"},st={class:"text-sm text-gray-500 mt-1"},lt={key:0,class:"text-blue-600"},ot={key:0},at=["disabled"],nt={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},rt={key:0,class:"text-center py-12"},it={key:1,class:"space-y-4"},dt={class:"text-lg font-semibold text-gray-900"},ut={class:"text-sm font-normal text-gray-500"},xt={class:"flex items-start justify-between"},mt={class:"flex items-start gap-3"},ct={key:0,class:"text-sm text-gray-500 mt-0.5"},gt={class:"text-right flex-shrink-0"},pt={class:"text-2xl font-bold text-blue-600"},vt={class:"mt-3 pt-3 border-t"},yt=["onClick"],ft={key:2,class:"text-center py-12 bg-white rounded-xl shadow-sm border"},bt={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ct=R({__name:"AiRecommendView",setup(i){const y=d(!0),g=d(""),c=d(""),o=d(null),a=d([]),u=d(!1),_=d(!1),f=d([]),b=d(!1),C=d(!1),$=d(null);F(async()=>{try{const n=await z();g.value=n.content||"",c.value=n.title||"ë‚´ ì´ë ¥ì„œ",o.value=n.resumeId,a.value=n.skills||n.aiSkills||[]}catch(n){console.error("ì´ë ¥ì„œ ì¡°íšŒ ì‹¤íŒ¨:",n)}finally{y.value=!1}});async function V(){if(g.value){u.value=!0,_.value=!1,f.value=[];try{const n=await B({resumeText:g.value,topK:10});f.value=n.matches,_.value=!0}catch(n){console.error("ì¶”ì²œ ì‹¤íŒ¨:",n),alert("AI ì¶”ì²œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{u.value=!1}}}async function j(n){if(o.value){b.value=!0,C.value=!0,$.value=null;try{$.value=await G({candidateId:String(o.value),jobpostingId:n})}catch(e){console.error("ìŠ¤í‚¬ ê°­ ë¶„ì„ ì‹¤íŒ¨:",e),alert("ìŠ¤í‚¬ ê°­ ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),b.value=!1}finally{C.value=!1}}}return(n,e)=>{const I=L("router-link");return l(),s("div",U,[t("div",W,[e[12]||(e[12]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl font-bold text-gray-900 flex items-center gap-2"},"ðŸŽ¯ AI ì±„ìš©ê³µê³  ì¶”ì²œ"),t("p",{class:"text-gray-500 mt-1"},"ë‚´ ì´ë ¥ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì í•©í•œ ì±„ìš©ê³µê³ ë¥¼ AIê°€ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.")],-1)),y.value?(l(),s("div",X,[...e[1]||(e[1]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"ì´ë ¥ì„œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)])])):g.value?(l(),s(v,{key:2},[t("div",Z,[t("div",tt,[t("div",null,[t("h2",et,"ðŸ“„ "+r(c.value),1),t("p",st,[e[6]||(e[6]=p(" ì´ë ¥ì„œ ê¸°ë°˜ìœ¼ë¡œ ë§¤ì¹­í•©ë‹ˆë‹¤ ",-1)),a.value.length>0?(l(),s("span",lt,[p(" Â· "+r(a.value.slice(0,5).join(", "))+" ",1),a.value.length>5?(l(),s("span",ot," ì™¸ "+r(a.value.length-5)+"ê°œ",1)):x("",!0)])):x("",!0)])]),t("button",{onClick:V,disabled:u.value,class:w(["px-6 py-3 rounded-lg font-medium transition-all flex items-center gap-2",u.value?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg"])},[u.value?(l(),s("svg",nt,[...e[7]||(e[7]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):x("",!0),p(" "+r(u.value?"AI ë¶„ì„ ì¤‘...":"ðŸ” AI ì¶”ì²œ ë°›ê¸°"),1)],10,at)])]),u.value?(l(),s("div",rt,[...e[8]||(e[8]=[t("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-purple-600 mx-auto"},null,-1),t("p",{class:"mt-3 text-gray-500"},"ì´ë ¥ì„œë¥¼ ë¶„ì„í•˜ê³  ì í•©í•œ ì±„ìš©ê³µê³ ë¥¼ ì°¾ê³  ìžˆìŠµë‹ˆë‹¤...",-1)])])):f.value.length>0?(l(),s("div",it,[t("h3",dt,[e[9]||(e[9]=p(" ðŸ“‹ ì¶”ì²œ ì±„ìš©ê³µê³  ",-1)),t("span",ut,"("+r(f.value.length)+"ê±´)",1)]),(l(!0),s(v,null,k(f.value,(m,h)=>(l(),s("div",{key:m.jobpostingId,class:"bg-white rounded-xl shadow-sm border p-5 hover:shadow-md transition-shadow"},[t("div",xt,[t("div",mt,[t("div",{class:w(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",h===0?"bg-yellow-100 text-yellow-700":h===1?"bg-gray-100 text-gray-700":h===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"])},r(h+1),3),t("div",null,[S(I,{to:`/jobpostings/${m.jobpostingId}`,class:"font-medium text-gray-900 hover:text-blue-600 transition-colors"},{default:A(()=>[p(" ì±„ìš©ê³µê³  #"+r(m.jobpostingId),1)]),_:2},1032,["to"]),m.title?(l(),s("p",ct,r(m.title),1)):x("",!0)])]),t("div",gt,[t("div",pt,r(((1-m.score)*100).toFixed(1)),1),e[10]||(e[10]=t("div",{class:"text-xs text-gray-500"},"ë²¡í„° ìœ ì‚¬ë„",-1))])]),t("div",vt,[t("button",{onClick:ht=>j(m.jobpostingId),class:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1"}," ðŸ” ìŠ¤í‚¬ ê°­ ë¶„ì„ ",8,yt)])]))),128))])):_.value?(l(),s("div",ft,[...e[11]||(e[11]=[t("p",{class:"text-gray-500"},"ë§¤ì¹­ëœ ì±„ìš©ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤",-1),t("p",{class:"text-sm text-gray-400 mt-1"},"ë“±ë¡ëœ ì±„ìš©ê³µê³ ê°€ ìžˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”",-1)])])):x("",!0)],64)):(l(),s("div",Y,[e[3]||(e[3]=t("svg",{class:"w-16 h-16 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[4]||(e[4]=t("p",{class:"mt-4 text-gray-500 text-lg"},"ì´ë ¥ì„œë¥¼ ë¨¼ì € ìž‘ì„±í•´ì£¼ì„¸ìš”",-1)),e[5]||(e[5]=t("p",{class:"text-sm text-gray-400 mt-1"},"ì´ë ¥ì„œê°€ ìžˆì–´ì•¼ AI ì¶”ì²œì„ ë°›ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤",-1)),S(I,{to:"/my/resume",class:"inline-block mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:A(()=>[...e[2]||(e[2]=[p("ì´ë ¥ì„œ ìž‘ì„±í•˜ëŸ¬ ê°€ê¸°",-1)])]),_:1})])),b.value?(l(),s("div",bt,[S(Q,{gap:$.value,loading:C.value,onClose:e[0]||(e[0]=m=>b.value=!1)},null,8,["gap","loading"])])):x("",!0)])])}}});export{Ct as default};
