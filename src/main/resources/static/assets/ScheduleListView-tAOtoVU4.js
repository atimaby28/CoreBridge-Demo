import{d as W,c as l,b as e,i as u,C as O,q as x,t as r,n as w,l as a,u as ae,o as le,I as F,p as C,r as _,F as M,s as T,h as K}from"./index-BwYT7rAB.js";import{S as z,a as re,b as V,c as P,u as ie,_ as de}from"./ScheduleCreateModal.vue_vue_type_script_setup_true_lang-d4QHXo72.js";import"./schedule-B-WyToMB.js";const ue={class:"fixed inset-0 z-50 flex items-center justify-center"},ce={class:"relative bg-white rounded-xl shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto"},ge={class:"flex items-start justify-between"},ye={class:"flex items-center gap-3"},me={class:"flex items-center gap-2"},xe={class:"text-xl font-bold text-gray-900 mt-1"},he={class:"p-6 space-y-4"},ve={class:"flex items-start gap-3"},fe={class:"font-medium text-gray-900"},pe={class:"text-sm text-gray-500"},be={key:0,class:"flex items-start gap-3"},Ce={class:"text-sm text-gray-600"},we={key:1,class:"flex items-start gap-3"},De={class:"text-sm text-gray-600"},ke={key:2,class:"flex items-start gap-3"},Se={class:"text-sm text-gray-600 whitespace-pre-wrap"},Ee={key:3,class:"flex items-start gap-3"},_e={class:"text-sm text-gray-600 whitespace-pre-wrap"},Le={key:0,class:"p-6 border-t bg-gray-50 rounded-b-xl"},$e={class:"flex justify-between"},Me={class:"flex gap-2"},Te=W({__name:"ScheduleModal",props:{schedule:{},isCompany:{type:Boolean}},emits:["close","delete","statusChange"],setup(i,{emit:A}){const d=i,c=A,D=x(()=>z[d.schedule.type]||"ðŸ“…"),L=x(()=>re[d.schedule.type]),h=x(()=>V[d.schedule.type]||"#6B7280"),k=x(()=>P[d.schedule.status]),m=x(()=>({SCHEDULED:"bg-blue-100 text-blue-800",IN_PROGRESS:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-gray-100 text-gray-800",NO_SHOW:"bg-red-100 text-red-800"})[d.schedule.status]||"bg-gray-100 text-gray-800");function N(v){return new Date(v).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit"})}function b(v){return new Date(v).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function H(){const v=new Date(d.schedule.startTime),f=new Date(d.schedule.endTime).getTime()-v.getTime(),S=Math.round(f/6e4);if(S<60)return`${S}ë¶„`;const j=Math.floor(S/60),$=S%60;return $>0?`${j}ì‹œê°„ ${$}ë¶„`:`${j}ì‹œê°„`}return(v,n)=>(a(),l("div",ue,[e("div",{class:"absolute inset-0 bg-black/50",onClick:n[0]||(n[0]=f=>c("close"))}),e("div",ce,[e("div",{class:"p-6 border-b",style:O({borderColor:h.value+"40"})},[e("div",ge,[e("div",ye,[e("div",{class:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:O({backgroundColor:h.value+"20"})},r(D.value),5),e("div",null,[e("div",me,[e("span",{class:"px-2 py-0.5 text-xs font-medium rounded",style:O({backgroundColor:h.value+"20",color:h.value})},r(L.value),5),e("span",{class:w(["px-2 py-0.5 text-xs font-medium rounded-full",m.value])},r(k.value),3)]),e("h2",xe,r(i.schedule.title),1)])]),e("button",{onClick:n[1]||(n[1]=f=>c("close")),class:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-gray-600"}," âœ• ")])],4),e("div",he,[e("div",ve,[n[6]||(n[6]=e("div",{class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500"}," ðŸ• ",-1)),e("div",null,[e("p",fe,r(N(i.schedule.startTime)),1),e("p",pe," ~ "+r(b(i.schedule.endTime))+" ("+r(H())+") ",1)])]),i.schedule.location?(a(),l("div",be,[n[8]||(n[8]=e("div",{class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500"}," ðŸ“ ",-1)),e("div",null,[n[7]||(n[7]=e("p",{class:"font-medium text-gray-900"},"ìž¥ì†Œ",-1)),e("p",Ce,r(i.schedule.location),1)])])):u("",!0),i.schedule.interviewerName?(a(),l("div",we,[n[10]||(n[10]=e("div",{class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500"}," ðŸ‘¤ ",-1)),e("div",null,[n[9]||(n[9]=e("p",{class:"font-medium text-gray-900"},"ë©´ì ‘ê´€",-1)),e("p",De,r(i.schedule.interviewerName),1)])])):u("",!0),i.schedule.description?(a(),l("div",ke,[n[12]||(n[12]=e("div",{class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500"}," ðŸ“ ",-1)),e("div",null,[n[11]||(n[11]=e("p",{class:"font-medium text-gray-900"},"ì•ˆë‚´ì‚¬í•­",-1)),e("p",Se,r(i.schedule.description),1)])])):u("",!0),i.isCompany&&i.schedule.memo?(a(),l("div",Ee,[n[14]||(n[14]=e("div",{class:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center text-yellow-600"}," ðŸ“Œ ",-1)),e("div",null,[n[13]||(n[13]=e("p",{class:"font-medium text-gray-900"},"ë‚´ë¶€ ë©”ëª¨",-1)),e("p",_e,r(i.schedule.memo),1)])])):u("",!0)]),i.isCompany?(a(),l("div",Le,[e("div",$e,[e("button",{onClick:n[2]||(n[2]=f=>c("delete",i.schedule.id)),class:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"}," ì‚­ì œ "),e("div",Me,[i.schedule.status==="SCHEDULED"?(a(),l("button",{key:0,onClick:n[3]||(n[3]=f=>c("statusChange",i.schedule.id,"CANCELLED")),class:"px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors"}," ì·¨ì†Œ ")):u("",!0),i.schedule.status==="SCHEDULED"?(a(),l("button",{key:1,onClick:n[4]||(n[4]=f=>c("statusChange",i.schedule.id,"NO_SHOW")),class:"px-4 py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors"}," ë¶ˆì°¸ ")):u("",!0),i.schedule.status==="SCHEDULED"?(a(),l("button",{key:2,onClick:n[5]||(n[5]=f=>c("statusChange",i.schedule.id,"COMPLETED")),class:"px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-lg transition-colors"}," ì™„ë£Œ ")):u("",!0)])])])):u("",!0)])]))}}),Oe={class:"max-w-6xl mx-auto p-6"},Ne={class:"flex items-center justify-between mb-6"},He={class:"text-gray-500 mt-1"},je={class:"flex items-center gap-3"},Ae={class:"flex bg-gray-100 rounded-lg p-1"},Ue={key:0,class:"flex justify-center py-12"},Be={key:1,class:"bg-red-50 text-red-600 p-4 rounded-lg"},Pe={key:2},Re={class:"flex gap-2 mb-4"},Ie=["onClick"],Ye={key:0,class:"text-center py-12 text-gray-500"},Fe={key:1,class:"space-y-3"},Ke=["onClick"],We={class:"flex items-start gap-4"},ze={class:"flex-1 min-w-0"},Ve={class:"flex items-center gap-2 mb-1"},Ge={class:"font-semibold text-gray-900 truncate"},qe={class:"text-sm text-gray-500"},Je={key:0,class:"text-sm text-gray-500 mt-1"},Qe={key:0,class:"flex gap-2"},Xe=["onClick"],Ze=["onClick"],et={key:3,class:"bg-white rounded-lg border border-gray-200 p-4"},tt={class:"flex items-center justify-between mb-4"},st={class:"flex items-center gap-3"},nt={class:"text-lg font-semibold"},ot={class:"grid grid-cols-7 gap-1 mb-2"},at={class:"grid grid-cols-7 gap-1"},lt={class:"space-y-1"},rt=["onClick"],it={key:0,class:"text-xs text-gray-500 text-center"},yt=W({__name:"ScheduleListView",setup(i){const A=ae(),d=ie(),c=_("list"),D=_("ALL"),L=_(null),h=_(!1),k=_(!1),m=_(new Date),N=x(()=>{const s=m.value.getFullYear(),o=m.value.getMonth();return new Date(s,o,1)}),b=x(()=>A.isCompany),H=x(()=>D.value==="ALL"?d.schedules:d.schedules.filter(s=>s.status===D.value)),v=x(()=>{const s=N.value.getFullYear(),o=N.value.getMonth(),t=new Date(s,o,1),p=new Date(s,o+1,0),g=[],Y=t.getDay();for(let y=Y-1;y>=0;y--){const E=new Date(s,o,-y);g.push({date:E,isCurrentMonth:!1,schedules:[]})}for(let y=1;y<=p.getDate();y++){const E=new Date(s,o,y),se=f(E),ne=d.schedules.filter(oe=>oe.startTime.split("T")[0]===se);g.push({date:E,isCurrentMonth:!0,schedules:ne})}const te=42-g.length;for(let y=1;y<=te;y++){const E=new Date(s,o+1,y);g.push({date:E,isCurrentMonth:!1,schedules:[]})}return g}),n=x(()=>m.value.toLocaleDateString("ko-KR",{year:"numeric",month:"long"}));function f(s){const o=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),p=String(s.getDate()).padStart(2,"0");return`${o}-${t}-${p}`}function S(s){return new Date(s).toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short",hour:"2-digit",minute:"2-digit"})}function j(s){return new Date(s).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function $(s){return z[s]||"ðŸ“…"}function U(s){return V[s]||"#6B7280"}function G(s){return{SCHEDULED:"bg-blue-100 text-blue-800",IN_PROGRESS:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-gray-100 text-gray-800",NO_SHOW:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}function q(){const s=new Date(m.value);s.setMonth(s.getMonth()-1),m.value=s}function J(){const s=new Date(m.value);s.setMonth(s.getMonth()+1),m.value=s}function Q(){m.value=new Date}function R(s){const o=new Date;return s.toDateString()===o.toDateString()}function I(s){L.value=s,h.value=!0}function X(){k.value=!0}async function B(s,o){try{await d.updateStatus(s,o)}catch(t){console.error("ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:",t)}}async function Z(s){if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await d.deleteSchedule(s),h.value=!1}catch(o){console.error("ì‚­ì œ ì‹¤íŒ¨:",o)}}async function ee(){k.value=!1,b.value?await d.fetchCompanySchedules():await d.fetchMySchedules()}return le(async()=>{b.value?await d.fetchCompanySchedules():await d.fetchMySchedules()}),(s,o)=>(a(),l("div",Oe,[e("div",Ne,[e("div",null,[o[4]||(o[4]=e("h1",{class:"text-2xl font-bold text-gray-900"},"ì¼ì • ê´€ë¦¬",-1)),e("p",He," ì˜ˆì •ëœ ì¼ì • "+r(C(d).upcomingCount)+"ê±´ Â· ì™„ë£Œëœ ì¼ì • "+r(C(d).completedCount)+"ê±´ ",1)]),e("div",je,[e("div",Ae,[e("button",{onClick:o[0]||(o[0]=t=>c.value="list"),class:w(["px-4 py-2 text-sm font-medium rounded-md transition-colors",c.value==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"])}," ðŸ“‹ ëª©ë¡ ",2),e("button",{onClick:o[1]||(o[1]=t=>c.value="calendar"),class:w(["px-4 py-2 text-sm font-medium rounded-md transition-colors",c.value==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"])}," ðŸ“… ìº˜ë¦°ë” ",2)]),b.value?(a(),l("button",{key:0,onClick:X,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"}," + ì¼ì • ì¶”ê°€ ")):u("",!0)])]),C(d).loading?(a(),l("div",Ue,[...o[5]||(o[5]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):C(d).error?(a(),l("div",Be,r(C(d).error),1)):c.value==="list"?(a(),l("div",Pe,[e("div",Re,[(a(),l(M,null,T(["ALL","SCHEDULED","COMPLETED","CANCELLED"],t=>e("button",{key:t,onClick:p=>D.value=t,class:w(["px-3 py-1.5 text-sm rounded-full transition-colors",D.value===t?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},r(t==="ALL"?"ì „ì²´":C(P)[t]),11,Ie)),64))]),H.value.length===0?(a(),l("div",Ye,[...o[6]||(o[6]=[e("div",{class:"text-4xl mb-4"},"ðŸ“…",-1),e("p",null,"ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.",-1)])])):(a(),l("div",Fe,[(a(!0),l(M,null,T(H.value,t=>(a(),l("div",{key:t.id,onClick:p=>I(t),class:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer"},[e("div",We,[e("div",{class:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:O({backgroundColor:U(t.type)+"20"})},r($(t.type)),5),e("div",ze,[e("div",Ve,[e("h3",Ge,r(t.title),1),e("span",{class:w(["px-2 py-0.5 text-xs font-medium rounded-full",G(t.status)])},r(C(P)[t.status]),3)]),e("p",qe,r(S(t.startTime))+" ~ "+r(j(t.endTime)),1),t.location?(a(),l("p",Je," ðŸ“ "+r(t.location),1)):u("",!0)]),b.value&&t.status==="SCHEDULED"?(a(),l("div",Qe,[e("button",{onClick:K(p=>B(t.id,"COMPLETED"),["stop"]),class:"px-3 py-1 text-sm text-green-600 hover:bg-green-50 rounded"}," ì™„ë£Œ ",8,Xe),e("button",{onClick:K(p=>B(t.id,"CANCELLED"),["stop"]),class:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded"}," ì·¨ì†Œ ",8,Ze)])):u("",!0)])],8,Ke))),128))]))])):c.value==="calendar"?(a(),l("div",et,[e("div",tt,[e("button",{onClick:q,class:"p-2 hover:bg-gray-100 rounded-lg"}," â† "),e("div",st,[e("h2",nt,r(n.value),1),e("button",{onClick:Q,class:"px-3 py-1 text-sm text-primary-600 hover:bg-primary-50 rounded"}," ì˜¤ëŠ˜ ")]),e("button",{onClick:J,class:"p-2 hover:bg-gray-100 rounded-lg"}," â†’ ")]),e("div",ot,[(a(),l(M,null,T(["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "],t=>e("div",{key:t,class:"text-center text-sm font-medium text-gray-500 py-2"},r(t),1)),64))]),e("div",at,[(a(!0),l(M,null,T(v.value,(t,p)=>(a(),l("div",{key:p,class:w(["min-h-24 p-1 border rounded",t.isCurrentMonth?"bg-white":"bg-gray-50",R(t.date)?"border-primary-500":"border-gray-200"])},[e("div",{class:w(["text-sm font-medium mb-1",t.isCurrentMonth?"text-gray-900":"text-gray-400",R(t.date)?"text-primary-600":""])},r(t.date.getDate()),3),e("div",lt,[(a(!0),l(M,null,T(t.schedules.slice(0,2),g=>(a(),l("div",{key:g.id,onClick:Y=>I(g),class:"text-xs p-1 rounded truncate cursor-pointer hover:opacity-80",style:O({backgroundColor:U(g.type)+"20",color:U(g.type)})},r($(g.type))+" "+r(g.title),13,rt))),128)),t.schedules.length>2?(a(),l("div",it," +"+r(t.schedules.length-2)+"ê°œ ë” ",1)):u("",!0)])],2))),128))])])):u("",!0),h.value&&L.value?(a(),F(Te,{key:4,schedule:L.value,"is-company":b.value,onClose:o[2]||(o[2]=t=>h.value=!1),onDelete:Z,onStatusChange:B},null,8,["schedule","is-company"])):u("",!0),k.value?(a(),F(de,{key:5,onClose:o[3]||(o[3]=t=>k.value=!1),onCreated:ee})):u("",!0)]))}});export{yt as default};
