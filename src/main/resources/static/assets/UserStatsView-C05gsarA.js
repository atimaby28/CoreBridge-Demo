import{d as b,o as _,y as h,r as x,c as r,b as t,i as f,t as o,F as d,s as u,n as i,C as g,q as y,l as a}from"./index-BwYT7rAB.js";const C={class:"space-y-6"},U={key:0,class:"card py-16 text-center text-gray-400"},k={key:1,class:"card py-16 text-center text-red-500"},w={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},M={class:"card text-center p-5"},S={class:"text-3xl font-bold text-gray-900"},B={class:"card text-center p-5"},D={class:"text-3xl font-bold text-green-600"},V={class:"card text-center p-5"},j={class:"text-3xl font-bold text-red-600"},z={class:"card text-center p-5"},F={class:"text-3xl font-bold text-blue-600"},N={class:"card text-center p-5"},P={class:"text-3xl font-bold text-emerald-600"},q={class:"card text-center p-5"},E={class:"text-3xl font-bold text-purple-600"},L={class:"card p-6"},A={class:"space-y-4"},G={class:"flex items-center justify-between mb-1"},H={class:"flex items-center gap-2"},I={class:"text-sm text-gray-600"},J={class:"text-sm font-medium text-gray-700"},K={class:"w-full bg-gray-100 rounded-full h-3"},O={class:"card p-6"},Q={class:"space-y-4"},R={class:"flex items-center justify-between mb-1"},T={class:"flex items-center gap-2"},W={class:"text-sm text-gray-600"},X={class:"text-sm font-medium text-gray-700"},Y={class:"w-full bg-gray-100 rounded-full h-3"},Z={class:"card p-6"},$={class:"w-full"},tt={class:"border-b border-gray-100"},et={class:"py-3 px-4 text-sm text-right font-medium text-gray-900"},st={class:"py-3 px-4 text-sm text-gray-700 pl-8"},lt={class:"py-3 px-4 text-sm text-right text-gray-700"},ot={class:"py-3 px-4 text-sm text-right text-gray-500"},rt={class:"border-b border-gray-100"},at={class:"py-3 px-4 text-sm text-right font-medium text-green-700"},nt={class:"py-3 px-4 text-sm text-right text-gray-500"},dt={class:"py-3 px-4 text-sm text-right font-medium text-red-700"},it={class:"py-3 px-4 text-sm text-right text-gray-500"},ut=b({__name:"UserStatsView",setup(ct){const e=x(null),p=x(!0),c=x("");_(async()=>{try{e.value=await h.getStats()}catch(n){c.value="통계를 불러오는데 실패했습니다.",console.error(n)}finally{p.value=!1}});const m=y(()=>{if(!e.value||e.value.totalUsers===0)return[];const n=e.value.totalUsers;return[{label:"일반회원",count:e.value.userCount,percent:Math.round(e.value.userCount/n*100),color:"bg-blue-500",lightColor:"bg-blue-100",textColor:"text-blue-700"},{label:"기업회원",count:e.value.companyCount,percent:Math.round(e.value.companyCount/n*100),color:"bg-emerald-500",lightColor:"bg-emerald-100",textColor:"text-emerald-700"},{label:"관리자",count:e.value.adminCount,percent:Math.round(e.value.adminCount/n*100),color:"bg-purple-500",lightColor:"bg-purple-100",textColor:"text-purple-700"}]}),v=y(()=>{if(!e.value||e.value.totalUsers===0)return[];const n=e.value.totalUsers,s=Math.round(e.value.activeUsers/n*100),l=Math.round(e.value.blockedUsers/n*100);return[{label:"활성",count:e.value.activeUsers,percent:s,color:"bg-green-500",lightColor:"bg-green-100",textColor:"text-green-700"},{label:"차단",count:e.value.blockedUsers,percent:l,color:"bg-red-500",lightColor:"bg-red-100",textColor:"text-red-700"}]});return(n,s)=>(a(),r("div",C,[s[14]||(s[14]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"사용자 통계"),t("p",{class:"text-gray-500"},"사용자 가입 현황, 역할별 분포, 상태별 분석을 확인할 수 있습니다.")],-1)),p.value?(a(),r("div",U," 통계를 불러오는 중... ")):c.value?(a(),r("div",k,o(c.value),1)):e.value?(a(),r(d,{key:2},[t("div",w,[t("div",M,[t("p",S,o(e.value.totalUsers),1),s[0]||(s[0]=t("p",{class:"text-sm text-gray-500 mt-1"},"전체 사용자",-1))]),t("div",B,[t("p",D,o(e.value.activeUsers),1),s[1]||(s[1]=t("p",{class:"text-sm text-gray-500 mt-1"},"활성 사용자",-1))]),t("div",V,[t("p",j,o(e.value.blockedUsers),1),s[2]||(s[2]=t("p",{class:"text-sm text-gray-500 mt-1"},"차단 사용자",-1))]),t("div",z,[t("p",F,o(e.value.userCount),1),s[3]||(s[3]=t("p",{class:"text-sm text-gray-500 mt-1"},"일반회원",-1))]),t("div",N,[t("p",P,o(e.value.companyCount),1),s[4]||(s[4]=t("p",{class:"text-sm text-gray-500 mt-1"},"기업회원",-1))]),t("div",q,[t("p",E,o(e.value.adminCount),1),s[5]||(s[5]=t("p",{class:"text-sm text-gray-500 mt-1"},"관리자",-1))])]),t("div",L,[s[6]||(s[6]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"역할별 분포",-1)),t("div",A,[(a(!0),r(d,null,u(m.value,l=>(a(),r("div",{key:l.label},[t("div",G,[t("div",H,[t("span",{class:i([[l.lightColor,l.textColor],"px-2 py-0.5 rounded text-xs font-medium"])},o(l.label),3),t("span",I,o(l.count)+"명",1)]),t("span",J,o(l.percent)+"%",1)]),t("div",K,[t("div",{class:i([l.color,"h-3 rounded-full transition-all duration-500"]),style:g({width:l.percent+"%"})},null,6)])]))),128))])]),t("div",O,[s[7]||(s[7]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"계정 상태 분포",-1)),t("div",Q,[(a(!0),r(d,null,u(v.value,l=>(a(),r("div",{key:l.label},[t("div",R,[t("div",T,[t("span",{class:i([[l.lightColor,l.textColor],"px-2 py-0.5 rounded text-xs font-medium"])},o(l.label),3),t("span",W,o(l.count)+"명",1)]),t("span",X,o(l.percent)+"%",1)]),t("div",Y,[t("div",{class:i([l.color,"h-3 rounded-full transition-all duration-500"]),style:g({width:l.percent+"%"})},null,6)])]))),128))])]),t("div",Z,[s[13]||(s[13]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"상세 현황",-1)),t("table",$,[s[12]||(s[12]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-500"},"구분"),t("th",{class:"text-right py-3 px-4 text-sm font-medium text-gray-500"},"인원"),t("th",{class:"text-right py-3 px-4 text-sm font-medium text-gray-500"},"비율")])],-1)),t("tbody",null,[t("tr",tt,[s[8]||(s[8]=t("td",{class:"py-3 px-4 text-sm text-gray-900"},"전체 사용자",-1)),t("td",et,o(e.value.totalUsers)+"명",1),s[9]||(s[9]=t("td",{class:"py-3 px-4 text-sm text-right text-gray-500"},"100%",-1))]),(a(!0),r(d,null,u(m.value,l=>(a(),r("tr",{key:"table-"+l.label,class:"border-b border-gray-100"},[t("td",st,"└ "+o(l.label),1),t("td",lt,o(l.count)+"명",1),t("td",ot,o(l.percent)+"%",1)]))),128)),t("tr",rt,[s[10]||(s[10]=t("td",{class:"py-3 px-4 text-sm text-green-700 font-medium"},"활성 사용자",-1)),t("td",at,o(e.value.activeUsers)+"명",1),t("td",nt,o(e.value.totalUsers>0?Math.round(e.value.activeUsers/e.value.totalUsers*100):0)+"% ",1)]),t("tr",null,[s[11]||(s[11]=t("td",{class:"py-3 px-4 text-sm text-red-700 font-medium"},"차단 사용자",-1)),t("td",dt,o(e.value.blockedUsers)+"명",1),t("td",it,o(e.value.totalUsers>0?Math.round(e.value.blockedUsers/e.value.totalUsers*100):0)+"% ",1)])])])])],64)):f("",!0)]))}});export{ut as default};
