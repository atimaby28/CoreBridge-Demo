import{d as k,u as h,c as n,b as e,e as v,w as f,f as C,g as y,h as V,i as E,r as m,t as R,j as r,v as i,n as c,m as x,k as M,l as u}from"./index-BwYT7rAB.js";const S={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4"},U={class:"max-w-md w-full space-y-8"},j={class:"text-center"},O={class:"mt-2 text-sm text-gray-600"},N={key:0,class:"bg-red-50 text-red-600 p-4 rounded-lg text-sm"},B={class:"space-y-4"},L={class:"grid grid-cols-2 gap-4"},q=["disabled"],_={key:0},z={key:1},H=k({__name:"SignupView",setup(A){const b=M(),w=h(),s=m({email:"",nickname:"",password:"",passwordConfirm:"",role:"ROLE_USER"}),a=m(""),o=m(!1);async function g(){if(!s.value.email||!s.value.nickname||!s.value.password){a.value="모든 필드를 입력해주세요.";return}if(s.value.password!==s.value.passwordConfirm){a.value="비밀번호가 일치하지 않습니다.";return}if(s.value.password.length<8){a.value="비밀번호는 8자 이상이어야 합니다.";return}o.value=!0,a.value="";try{await w.signup({email:s.value.email,nickname:s.value.nickname,password:s.value.password,role:s.value.role}),b.push("/auth/login?registered=true")}catch(d){a.value=d instanceof Error?d.message:"회원가입에 실패했습니다."}finally{o.value=!1}}return(d,l)=>{const p=C("router-link");return u(),n("div",S,[e("div",U,[e("div",j,[v(p,{to:"/home",class:"inline-flex items-center space-x-2"},{default:f(()=>[...l[6]||(l[6]=[e("div",{class:"w-12 h-12 bg-primary-600 rounded-xl flex items-center justify-center"},[e("span",{class:"text-white font-bold text-2xl"},"C")],-1)])]),_:1}),l[9]||(l[9]=e("h2",{class:"mt-6 text-3xl font-bold text-gray-900"},"회원가입",-1)),e("p",O,[l[8]||(l[8]=y(" 이미 계정이 있으신가요? ",-1)),v(p,{to:"/auth/login",class:"text-primary-600 hover:text-primary-500"},{default:f(()=>[...l[7]||(l[7]=[y(" 로그인 ",-1)])]),_:1})])]),e("form",{onSubmit:V(g,["prevent"]),class:"mt-8 space-y-6"},[a.value?(u(),n("div",N,R(a.value),1)):E("",!0),e("div",B,[e("div",null,[l[10]||(l[10]=e("label",{for:"email",class:"label"},"이메일",-1)),r(e("input",{id:"email","onUpdate:modelValue":l[0]||(l[0]=t=>s.value.email=t),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[i,s.value.email]])]),e("div",null,[l[11]||(l[11]=e("label",{for:"nickname",class:"label"},"닉네임",-1)),r(e("input",{id:"nickname","onUpdate:modelValue":l[1]||(l[1]=t=>s.value.nickname=t),type:"text",required:"",class:"input",placeholder:"닉네임을 입력하세요"},null,512),[[i,s.value.nickname]])]),e("div",null,[l[12]||(l[12]=e("label",{for:"password",class:"label"},"비밀번호",-1)),r(e("input",{id:"password","onUpdate:modelValue":l[2]||(l[2]=t=>s.value.password=t),type:"password",required:"",class:"input",placeholder:"8자 이상 입력하세요"},null,512),[[i,s.value.password]])]),e("div",null,[l[13]||(l[13]=e("label",{for:"passwordConfirm",class:"label"},"비밀번호 확인",-1)),r(e("input",{id:"passwordConfirm","onUpdate:modelValue":l[3]||(l[3]=t=>s.value.passwordConfirm=t),type:"password",required:"",class:"input",placeholder:"비밀번호를 다시 입력하세요"},null,512),[[i,s.value.passwordConfirm]])]),e("div",null,[l[16]||(l[16]=e("label",{class:"label"},"회원 유형",-1)),e("div",L,[e("label",{class:c(["flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors",s.value.role==="ROLE_USER"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"])},[r(e("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>s.value.role=t),type:"radio",value:"ROLE_USER",class:"sr-only"},null,512),[[x,s.value.role]]),l[14]||(l[14]=e("div",{class:"text-center"},[e("svg",{class:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",{class:"text-sm font-medium"},"구직자")],-1))],2),e("label",{class:c(["flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors",s.value.role==="ROLE_COMPANY"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"])},[r(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>s.value.role=t),type:"radio",value:"ROLE_COMPANY",class:"sr-only"},null,512),[[x,s.value.role]]),l[15]||(l[15]=e("div",{class:"text-center"},[e("svg",{class:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),e("span",{class:"text-sm font-medium"},"기업")],-1))],2)])])]),e("button",{type:"submit",disabled:o.value,class:"w-full btn btn-primary py-3"},[o.value?(u(),n("span",_,"가입 중...")):(u(),n("span",z,"회원가입"))],8,q)],32)])])}}});export{H as default};
