import{d as j,E as M,o as B,c as o,b as t,i as V,e as g,w as c,g as p,f as I,p as l,t as i,F as J,s as N,r as f,h as S,l as n}from"./index-BwYT7rAB.js";import{u as $}from"./jobposting-D1MJNH41.js";import{D as L}from"./jobposting-De_onVHJ.js";import"./jobposting-DwROo58C.js";const T={class:"min-h-screen bg-gray-50"},A={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},E={class:"mb-8 flex justify-between items-center"},F={key:0,class:"flex justify-center items-center py-20"},R={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},z={class:"text-red-600"},H={key:2},K={key:0,class:"text-center py-20 bg-white rounded-lg border border-gray-200"},O={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},U={class:"min-w-full divide-y divide-gray-200"},q={class:"divide-y divide-gray-200"},G={class:"px-6 py-4"},P={class:"px-6 py-4 text-sm text-gray-500"},Q={class:"px-6 py-4 text-sm text-gray-500"},W={class:"px-6 py-4 text-right text-sm space-x-2"},X=["onClick"],Y={class:"mt-4 text-sm text-gray-500"},Z={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},tt={class:"font-medium text-gray-900 mb-6"},et={class:"flex justify-end space-x-3"},st=["disabled"],at=j({__name:"MyJobpostingListView",setup(ot){const m=$(),{myJobpostings:y,loading:h,error:b}=M(m),a=f(!1),u=f(null),x=f(!1);function w(r){const e=L.find(d=>d.boardId===r);return(e==null?void 0:e.name)||"알 수 없음"}function _(r){return new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}function k(r){u.value=r,a.value=!0}async function C(){if(u.value){x.value=!0;try{await m.deleteJobposting(u.value.jobpostingId),a.value=!1,u.value=null}catch{alert("삭제에 실패했습니다.")}finally{x.value=!1}}}function D(){m.fetchMyJobpostings()}return B(()=>{m.fetchMyJobpostings()}),(r,e)=>{var v;const d=I("router-link");return n(),o("div",T,[t("div",A,[t("div",E,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"내 채용공고"),t("p",{class:"mt-2 text-gray-600"},"등록한 채용공고를 관리하세요")],-1)),g(d,{to:"/company/jobpostings/new",class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors"},{default:c(()=>[...e[2]||(e[2]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" 새 채용공고 ",-1)])]),_:1})]),l(h)?(n(),o("div",F,[...e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):l(b)?(n(),o("div",R,[t("p",z,i(l(b)),1),t("button",{onClick:D,class:"mt-2 text-sm text-red-700 underline"},"다시 시도")])):(n(),o("div",H,[l(y).length===0?(n(),o("div",K,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[7]||(e[7]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"등록된 채용공고가 없습니다",-1)),e[8]||(e[8]=t("p",{class:"mt-2 text-gray-500"},"새 채용공고를 등록해보세요.",-1)),g(d,{to:"/company/jobpostings/new",class:"mt-6 inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors"},{default:c(()=>[...e[5]||(e[5]=[p(" 채용공고 등록하기 ",-1)])]),_:1})])):(n(),o("div",O,[t("table",U,[e[10]||(e[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 제목 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 게시판 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 등록일 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," 관리 ")])],-1)),t("tbody",q,[(n(!0),o(J,null,N(l(y),s=>(n(),o("tr",{key:s.jobpostingId,class:"hover:bg-gray-50"},[t("td",G,[g(d,{to:`/jobpostings/${s.jobpostingId}`,class:"text-indigo-600 hover:text-indigo-900 font-medium"},{default:c(()=>[p(i(s.title),1)]),_:2},1032,["to"])]),t("td",P,i(w(s.boardId)),1),t("td",Q,i(_(s.createdAt)),1),t("td",W,[g(d,{to:`/jobpostings/${s.jobpostingId}/edit`,class:"text-indigo-600 hover:text-indigo-900"},{default:c(()=>[...e[9]||(e[9]=[p(" 수정 ",-1)])]),_:1},8,["to"]),t("button",{onClick:nt=>k(s),class:"text-red-600 hover:text-red-900"}," 삭제 ",8,X)])]))),128))])])])),t("div",Y," 총 "+i(l(y).length)+"개의 채용공고 ",1)])),a.value?(n(),o("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[1]||(e[1]=S(s=>a.value=!1,["self"]))},[t("div",Z,[e[11]||(e[11]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"채용공고 삭제",-1)),e[12]||(e[12]=t("p",{class:"text-gray-600 mb-2"}," 다음 채용공고를 삭제하시겠습니까? ",-1)),t("p",tt,' "'+i((v=u.value)==null?void 0:v.title)+'" ',1),t("div",et,[t("button",{onClick:e[0]||(e[0]=s=>a.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," 취소 "),t("button",{onClick:C,disabled:x.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50"},i(x.value?"삭제 중...":"삭제"),9,st)])])])):V("",!0)])])}}});export{at as default};
