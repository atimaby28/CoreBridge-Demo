import{d as g,u as h,o as k,a as V,r as o,c as r,b as t,e as c,w as v,f as C,g as f,h as S,i as q,t as N,j as x,v as y,k as j,l as n}from"./index-BwYT7rAB.js";const B={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4"},M={class:"max-w-md w-full space-y-8"},R={class:"text-center"},U={class:"mt-2 text-sm text-gray-600"},D={key:0,class:"bg-red-50 text-red-600 p-4 rounded-lg text-sm"},E={class:"space-y-4"},T=["disabled"],A={key:0},I={key:1},z=g({__name:"LoginView",setup(L){const b=j(),d=V(),w=h(),s=o({email:"",password:""}),a=o(""),l=o(!1),p=o("/");k(()=>{d.query.redirect&&(p.value=decodeURIComponent(d.query.redirect))});async function _(){if(!s.value.email||!s.value.password){a.value="이메일과 비밀번호를 입력해주세요.";return}l.value=!0,a.value="";try{await w.login(s.value),b.push(p.value)}catch(i){a.value=i instanceof Error?i.message:"로그인에 실패했습니다."}finally{l.value=!1}}return(i,e)=>{const m=C("router-link");return n(),r("div",B,[t("div",M,[t("div",R,[c(m,{to:"/home",class:"inline-flex items-center space-x-2"},{default:v(()=>[...e[2]||(e[2]=[t("div",{class:"w-12 h-12 bg-primary-600 rounded-xl flex items-center justify-center"},[t("span",{class:"text-white font-bold text-2xl"},"C")],-1)])]),_:1}),e[5]||(e[5]=t("h2",{class:"mt-6 text-3xl font-bold text-gray-900"},"로그인",-1)),t("p",U,[e[4]||(e[4]=f(" 계정이 없으신가요? ",-1)),c(m,{to:"/auth/signup",class:"text-primary-600 hover:text-primary-500"},{default:v(()=>[...e[3]||(e[3]=[f(" 회원가입 ",-1)])]),_:1})])]),t("form",{onSubmit:S(_,["prevent"]),class:"mt-8 space-y-6"},[a.value?(n(),r("div",D,N(a.value),1)):q("",!0),t("div",E,[t("div",null,[e[6]||(e[6]=t("label",{for:"email",class:"label"},"이메일",-1)),x(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>s.value.email=u),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[y,s.value.email]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"password",class:"label"},"비밀번호",-1)),x(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=u=>s.value.password=u),type:"password",required:"",class:"input",placeholder:"••••••••"},null,512),[[y,s.value.password]])])]),t("button",{type:"submit",disabled:l.value,class:"w-full btn btn-primary py-3"},[l.value?(n(),r("span",A,"로그인 중...")):(n(),r("span",I,"로그인"))],8,T)],32)])])}}});export{z as default};
